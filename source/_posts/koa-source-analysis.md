---
title: Koa 源码全方位剖析
date: 2018-05-10 21:54:35
tags:
    - koa
categories:
    - nodejs
---

## 前言
Koa 基于 Node.js 平台的下一代 web 开发框架，由 Express 幕后的原班人马打造， 致力于成为 web 应用和 API 开发领域中的一个更小、更富有表现力、更健壮的基石。使用 Koa 编写 web 应用，通过组合不同的 generator，可以免除重复繁琐的回调函数嵌套，并极大地提升错误处理的效率。Koa 不在内核方法中绑定任何中间件，它仅仅提供了一个轻量优雅的函数库，使得编写 Web 应用变得得心应手。

## 源码结构
Koa 的源码结构很简单，源码都在 lib 目录下，其目录结构如下：
``` js
lib
├── application.js ------------------------------- 入口文件，也是骨架文件，创建一个服务
├── context.js ----------------------------------- app 的 context 对象，传入中间件的上下文对象
├── request.js ----------------------------------- app 的请求对象，包含请求相关的一些属性
├── response.js ---------------------------------- app 的响应对象，包含响应相关的一些属性
```
