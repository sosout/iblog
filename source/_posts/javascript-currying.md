---
title: JavaScript函数柯里化
tags:
  - currying
categories:
  - javascript
date: 2018-11-23 22:01:35
---

### 什么是柯里化？
#### 官方的说法
在计算机科学中，柯里化（英语：Currying），又译为卡瑞化或加里化，是把接受多个参数的函数变换成接受一个单一参数（最初函数的第一个参数）的函数，并且返回接受余下的参数而且返回结果的新函数的技术。这个技术由克里斯托弗·斯特雷奇以逻辑学家哈斯凯尔·加里命名的，尽管它是Moses Schönfinkel和戈特洛布·弗雷格发明的。

在直觉上，柯里化声称如果你固定某些参数，你将得到接受余下参数的一个函数。
在理论计算机科学中，柯里化提供了在简单的理论模型中，比如：只接受一个单一参数的lambda演算中，研究带有多个参数的函数的方式。
函数柯里化的对偶是Uncurrying，一种使用匿名单参数函数来实现多参数函数的方法。

#### 高阶函数
> 高阶函数定义：将函数作为参数或者返回值是函数的函数。

所以高阶函数分两种：
* 我们常见的 sort,reduce 等函数。
* 返回值是函数的函数。

一般而言，我们要理解常见的高阶函数还是很容易的。比如：
```js
function add(a) {
  return function(b) {
    return a + b
  }
}

var add3 = add(3)
add3(4) === 3 + 4 //true
```
add 函数 在 es6 里的写法等价为：
```js
let add = a => b => a + b
```
其实以上就是 柯里化函数 只不过用 es6 写，变了一个样子，后面详细介绍它的原理和特点。

### 柯里化或偏函数有什么用？
无论是柯里化还是偏应用，我们都能进行部分传值，而传统函数调用则需要预先确定所有实参。如果你在代码某一处只获取了部分实参，然后在另一处确定另一部分实参，这个时候柯里化和偏应用就能派上用场。

另一个最能体现柯里化应用的的是，当函数只有一个形参时，我们能够比较容易地组合它们（单一职责原则（Single responsibility principle））。因此，如果一个函数最终需要三个实参，那么它被柯里化以后会变成需要三次调用，每次调用需要一个实参的函数。当我们组合函数时，这种单元函数的形式会让我们处理起来更简单。

归纳下来，主要为以下常见的三个用途：

* 延迟计算
* 参数复用
* 动态生成函数

